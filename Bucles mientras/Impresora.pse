// EJERCICIO 3: Simulador de impresora - El usuario imprime mientras haya papel suficiente

Funcion hayPapelSuficiente <- VerificarPapel(paginasSolicitadas, papelDisponible)
    Si paginasSolicitadas > 0 Y paginasSolicitadas <= papelDisponible Entonces
        hayPapelSuficiente <- Verdadero
    SiNo
        hayPapelSuficiente <- Falso
    FinSi
FinFuncion

Funcion papelRestante <- ActualizarPapel(papelActual, paginasImpresas)
    papelRestante <- papelActual - paginasImpresas
FinFuncion

Funcion MostrarEstadoImpresora(papel, trabajoActual, paginasImpresas)
    Definir porcentajePapel Como Real
    porcentajePapel <- (papel / 500) * 100  // Asumiendo capacidad m√°xima de 500 hojas
    
    Escribir "=== ESTADO DE LA IMPRESORA ==="
    Escribir "üìÑ Papel disponible: ", papel, " hojas"
    Escribir "üìä Capacidad de papel: ", porcentajePapel, "%"
    
    Si trabajoActual <> "" Entonces
        Escribir "üñ®Ô∏è Trabajo actual: ", trabajoActual
        Escribir "üìÉ P√°ginas procesadas: ", paginasImpresas
    FinSi
    
    Escribir ""
    
    // Indicador visual del nivel de papel
    Si porcentajePapel > 75 Entonces
        Escribir "üü¢ Papel suficiente"
    SiNo
        Si porcentajePapel > 50 Entonces
            Escribir "üü° Nivel de papel moderado"
        SiNo
            Si porcentajePapel > 25 Entonces
                Escribir "üü† Papel bajo - Considere recargar pronto"
            SiNo
                Si porcentajePapel > 0 Entonces
                    Escribir "üî¥ Papel cr√≠tico - Recargue inmediatamente"
                SiNo
                    Escribir "‚ö´ Sin papel - Imposible imprimir"
                FinSi
            FinSi
        FinSi
    FinSi
    
    Escribir "----------------------------------------"
FinFuncion

Algoritmo SimuladorImpresora
    Definir papelEnImpresora, paginasAImprimir Como Entero
    Definir nombreTrabajo Como Caracter
    Definir puedeImprimir Como Logico
    Definir continuarImprimiendo Como Caracter
    Definir totalTrabajos, totalPaginasImpresas Como Entero
    
    // Inicializaci√≥n - Impresora con papel completo
    papelEnImpresora <- 500
    totalTrabajos <- 0
    totalPaginasImpresas <- 0
    
    Escribir "=== SIMULADOR DE IMPRESORA HP LaserJet ==="
    Escribir "üñ®Ô∏è Sistema de gesti√≥n de impresi√≥n"
    Escribir "üìÑ Capacidad inicial: 500 hojas"
    Escribir ""
    
    MostrarEstadoImpresora(papelEnImpresora, "", 0)
    Escribir ""
    
    Mientras papelEnImpresora > 0 Hacer
        totalTrabajos <- totalTrabajos + 1
        
        Escribir "=== TRABAJO DE IMPRESI√ìN #", totalTrabajos, " ==="
        Escribir "Ingrese el nombre del documento:"
        Leer nombreTrabajo
        
        Escribir "Ingrese la cantidad de p√°ginas que desea imprimir:"
        Leer paginasAImprimir
        
        Si VerificarPapel(paginasAImprimir, papelEnImpresora) Entonces
            Escribir ""
            Escribir "‚úÖ Papel suficiente - Iniciando impresi√≥n"
            Escribir "üñ®Ô∏è Imprimiendo: ", nombreTrabajo
            Escribir "üìÉ P√°ginas: ", paginasAImprimir
            Escribir ""
            
            // Simular proceso de impresi√≥n
            Escribir "üîÑ Procesando..."
            Escribir "üìÑ Alimentando papel..."
            Escribir "üñ®Ô∏è Imprimiendo p√°ginas..."
            
            // Actualizar estado
            papelEnImpresora <- ActualizarPapel(papelEnImpresora, paginasAImprimir)
            totalPaginasImpresas <- totalPaginasImpresas + paginasAImprimir
            
            Escribir "‚úÖ ¬°Impresi√≥n completada!"
            Escribir ""
            MostrarEstadoImpresora(papelEnImpresora, nombreTrabajo, paginasAImprimir)
            
            // Verificar si puede continuar imprimiendo
            Si papelEnImpresora > 0 Entonces
                Escribir ""
                Escribir "¬øDesea imprimir otro documento? (S/N):"
                Leer continuarImprimiendo
                continuarImprimiendo <- Mayusculas(continuarImprimiendo)
                
                Si continuarImprimiendo = "N" Entonces
                    Escribir "üñ®Ô∏è Sesi√≥n de impresi√≥n finalizada por el usuario"
                    Escribir ""
                    // Salir del bucle aunque haya papel
                    papelEnImpresora <- 0  // Forzar salida del mientras
                FinSi
                
            SiNo
                Escribir ""
                Escribir "üö´ Sin papel disponible - Imposible continuar"
                Escribir "üîß Recargue papel para continuar imprimiendo"
            FinSi
            
        SiNo
            Escribir ""
            Si paginasAImprimir <= 0 Entonces
                Escribir "‚ùå ERROR: N√∫mero de p√°ginas inv√°lido"
                Escribir "üí° Debe ser un n√∫mero mayor a 0"
            SiNo
                Escribir "‚ùå ERROR: Papel insuficiente"
                Escribir "üìÑ Papel disponible: ", papelEnImpresora, " hojas"
                Escribir "üìÉ P√°ginas solicitadas: ", paginasAImprimir, " hojas"
                Escribir "üö´ Faltan: ", (paginasAImprimir - papelEnImpresora), " hojas"
                
                Si papelEnImpresora > 0 Entonces
                    Escribir ""
                    Escribir "üí° Opciones disponibles:"
                    Escribir "1. Imprimir solo ", papelEnImpresora, " p√°ginas disponibles"
                    Escribir "2. Recargar papel y reintentar"
                    Escribir "3. Cancelar trabajo"
                FinSi
            FinSi
            
            totalTrabajos <- totalTrabajos - 1  // No contar trabajo fallido
            
            Si papelEnImpresora > 0 Entonces
                Escribir ""
                Escribir "¬øDesea intentar con otro trabajo? (S/N):"
                Leer continuarImprimiendo
                continuarImprimiendo <- Mayusculas(continuarImprimiendo)
                
                Si continuarImprimiendo = "N" Entonces
                    papelEnImpresora <- 0  // Forzar salida
                FinSi
            FinSi
        FinSi
        
        Escribir ""
        
    FinMientras
    
    // Resumen final de la sesi√≥n
    Escribir "=== RESUMEN DE SESI√ìN DE IMPRESI√ìN ==="
    Escribir "üñ®Ô∏è Trabajos completados exitosamente: ", totalTrabajos
    Escribir "üìÉ Total de p√°ginas impresas: ", totalPaginasImpresas
    Escribir "üìÑ Papel restante: ", papelEnImpresora, " hojas"
    
    Si totalTrabajos > 0 Entonces
        Escribir "üìä Promedio p√°ginas por trabajo: ", (totalPaginasImpresas / totalTrabajos)
    FinSi
    
    Si papelEnImpresora = 0 Entonces
        Escribir ""
        Escribir "‚ö†Ô∏è ATENCI√ìN: Impresora sin papel"
        Escribir "üîß Acciones requeridas:"
        Escribir "   ‚Ä¢ Recargar papel en la bandeja"
        Escribir "   ‚Ä¢ Verificar calidad del papel"
        Escribir "   ‚Ä¢ Ajustar gu√≠as de papel"
    SiNo
        Escribir ""
        Escribir "‚úÖ Impresora lista para m√°s trabajos"
    FinSi
    
    Escribir ""
    Escribir "Gracias por usar el Simulador de Impresora"
    
FinAlgoritmo
